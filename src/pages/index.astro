---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Content as PrimaryContent } from "../content/static/Home-Page-Primary-Content.md";

import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

import PostList from "../components/PostList.astro";
import TagList from "../components/TagList.astro";
import { getFeaturedPosts, getFeaturedTags } from "../lib/postUtils.astro";

let posts = await getFeaturedPosts();
let featuredTags = await getFeaturedTags();
---

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <section class="intro">
    <div class="markdown">
      <PrimaryContent />
    </div>
  </section>
  <section>
    <h2>Featured Posts</h2>
    <PostList posts={posts} />
  </section>
  <section>
    <h2>Featured Tags</h2>
    <TagList tags={featuredTags} />
  </section>
  <a class="archive-link" href="/archive"><span>Explore the archive</span><img src="/assets/arrow-right.svg" alt="right facing arrow" /></a>
</BaseLayout>
  

<style>
  section h2 {
    font-size: 2rem;
    margin: 3rem 0 2rem;
    color: var(--theme-text);
    font-style: italic;
  }

  .archive-link {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    text-decoration: none;
    font-family: var(--header-font);
    font-weight: 700;
    font-size: 1.5rem;
    margin-top: 2.5rem;
  }

  @media (max-width: 768px) {
    section h2 {
      font-size: 1.75rem;
      margin: 2rem 0 1.5rem;
    }

    .intro {
      margin-top: 3rem;
    }
  }
  
</style>
